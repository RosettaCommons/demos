Rosetta Membrane Framework: Computing ddG of Mutation 
======================================================

## Data
Author: Rebecca F. Alford (rfalford12@gmail.com)
Corresponding PI: Jeffrey J. Gray (jgray@jhu.edu)
Last Updated: September 2014
Rosetta Revision #<XXX>
Citation: Modeling membrane proteins in Rosetta 3

Corresponding Documentation Link: 

## Application Description
This application will compute the ddG of a single point mutation in the membrane using the
Rosetta membrane framework. In this demo, we include a PyRosetta script for general use, and 
the specific script used to replicate results for an example case, OmpLA (1qd6)

## Executable/Script
The main script for running membrane ddG application is compute_memb_ddG.py

## Generating Inputs
Modeling membrane proteins in Rosetta requires 2 inputs: (1) a spanning topology file (required) and 
(2) a lips file (optional).

  1. Generating a Spanfile
  A spanfile describing transmembrane spanning regions can be generated using the OCTOPUS server
  (http://octopus.cbr.su.se/). This file must be converted to a Rosetta spanfile format using octopus2span.pl

    cd $ROSETTA_DEMOS/2014/mpframework-ddG/scripts/
    ./octopus2span.pl octopus_pred.out > spanfile.txt

  2. Generating a Lipsfile
  A lips file can be generated by running the predict_lips.pl script. This requires an installation of 
  blast (not blast++). Example command given below: 

    cd $ROSETTA_DEMOS/2014/mpframework-ddG/scripts/
    ./predict_lips.pl <fasta file> <spanfile> /path/to/blastpgp /path/to/nrdb alignblast.pl


## Useful Scripts
This demo contains a script directory with: 
  - octopus2span.pl: Convert OCTOPUS topology prediction to Rosetta spanfile format
  - predict_lips.pl: Use the TMPLIP server to predict per-residue lipophilicity
  - alignblast.pl: Perform and parse multiple sequnece alignment from psiblast (needed for   
    predict_lips.pl)

## Running the Application
To run the membrane ddG script, run the following commandline: 

./compute_memb_ddG.py -pdb <pdbfile> -spanfile <spanfile> -position <residue-position> -new_aa <amino acid 3-letter code>

To run the membrane ddG script for OmpLA, run the following commandline: 
./compute_OmpLA_ddG.py -pdb 1qd6.pdb - spanfile 1qd6.span

## Example Outputs
The PyRosetta script will write a list of mutations and ddG values to a textfile called ddG.out. An exmaple 
output can be seen in the output/ directory of this demo. 

