Rosetta Membrane Framework Application: Membrane ddG
===========================================================================

### About this Protocol Capture
Author: Rebecca F. Alford (rfalford12@gmail.com)
Corresponding PI: Jeffrey J. Gray (jgray@jhu.edu)
Last Updated: October 2014

Rosetta Revision #57364

Publication describing the method: 
Alford RF, Koehler Leman JK, Weitzner BD, Gray JJ (2014)
A general framework in Rosetta 3 for modeling and design of membrane proteins
PLoS ONE (in preparation) 

### Description
Measuring free energy changes due to mutation can inform our understand of membrane protein stability and
variation. This application uses tools from Rosetta Design and the membrane framework to compute ddG of 
mutation in membrane proteins. Mutations are applied using the packer task and structures are rescored
using the high resolution membrane scoring functions. Resulting ddGs are printed to standard output. This
script mutates residue 181 to all 20 canonical AAs and can be easily adapted to compute ddGs for other
mutations. 

### Executable/Script
The membrane ddG application is implemented as a python script in PyRosetta. The script
included in this directory is compute_memb_ddG.py

## Generating Inputs
Modeling membrane proteins in Rosetta requires 2 inputs: (1) a spanning topology file (required) 
and (2) a lips file (optional).

  1. Generating a Spanfile
  A spanfile describing transmembrane spanning regions can be generated using the OCTOPUS server
  (http://octopus.cbr.su.se/). This file must be converted to a Rosetta spanfile format using 
  octopus2span.pl

    cd mpframework-ddG/scripts/
    ./octopus2span.pl octopus_pred.out > spanfile.txt

  2. Generating a Lipsfile
  A lips file can be generated by running the predict_lips.pl script. This requires an installation 
  of blast (not blast++). Example command given below: 

    cd mpframework-ddG/scripts/
    ./predict_lips.pl <fasta file> <spanfile> /path/to/blastpgp /path/to/nrdb alignblast.pl

## Useful Scripts
This demo contains a script directory with: 
  - octopus2span.pl: Convert OCTOPUS topology prediction to Rosetta spanfile format
  - predict_lips.pl: Use the TMPLIP server to predict per-residue lipophilicity
  - alignblast.pl: Perform and parse multiple sequnece alignment from psiblast (needed for   
    predict_lips.pl)

## Running the Application
To run the membrane ddG script for this example case, run the python script (no arguments)

./compute_ompLA_ddG.py

## Example Outputs
The PyRosetta script will write a list of mutations and ddG values to standard output. 

### References
1. Chaudhury S, Lyskov S, Gray JJ (2010) PyRosetta: a script-based interface for implementing molecular modeling algorithms using Rosetta.

2.  Moon CP, Fleming KG (2011) Side-chain hydrophobicity scale derived from transmembrane protein folding into lipid bilayers. Proc Natl Acad Sci. 
